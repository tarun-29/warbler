{"ast":null,"code":"import { apiCall } from \"../../services/api\";\nimport { addError } from \"../actions/error\";\nimport { LOAD_MESSAGES, REMOVE_MESSAGES } from \"../actionTypes\";\nexport const loadMessages = messages => ({\n  type: LOAD_MESSAGES,\n  messages\n});\nexport const fetchMessages = () => {\n  return dispatch => {\n    return apiCall(\"GET\", \"/api/messages\").then(response => {\n      dispatch(loadMessages(response));\n    }).catch(err => {\n      dispatch(addError(err.message));\n    });\n  };\n};\nexport const postNewMessage = text => (dispatch, getState) => {\n  let _getState = getState(),\n      currentUser = _getState.currentUser;\n\n  const id = currentUser.user.id;\n  return apiCall(\"post\", `/api/users/${id}/messages`, {\n    text\n  }).then(res => {// res=>{}\n  }).catch(e => {\n    dispatch(addError(e.message));\n  });\n};","map":{"version":3,"sources":["/Users/tarunkantiwal/Desktop/React/warbler/client/src/store/actions/messages.js"],"names":["apiCall","addError","LOAD_MESSAGES","REMOVE_MESSAGES","loadMessages","messages","type","fetchMessages","dispatch","then","response","catch","err","message","postNewMessage","text","getState","currentUser","id","user","res","e"],"mappings":"AAAA,SAASA,OAAT,QAAwB,oBAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,aAAT,EAAwBC,eAAxB,QAA+C,gBAA/C;AAEA,OAAO,MAAMC,YAAY,GAAGC,QAAQ,KAAK;AACvCC,EAAAA,IAAI,EAAEJ,aADiC;AAEvCG,EAAAA;AAFuC,CAAL,CAA7B;AAKP,OAAO,MAAME,aAAa,GAAG,MAAM;AACjC,SAAOC,QAAQ,IAAI;AACjB,WAAOR,OAAO,CAAC,KAAD,EAAQ,eAAR,CAAP,CACJS,IADI,CACCC,QAAQ,IAAI;AAChBF,MAAAA,QAAQ,CAACJ,YAAY,CAACM,QAAD,CAAb,CAAR;AACD,KAHI,EAIJC,KAJI,CAIEC,GAAG,IAAI;AACZJ,MAAAA,QAAQ,CAACP,QAAQ,CAACW,GAAG,CAACC,OAAL,CAAT,CAAR;AACD,KANI,CAAP;AAOD,GARD;AASD,CAVM;AAaP,OAAO,MAAMC,cAAc,GAAGC,IAAI,IAAI,CAACP,QAAD,EAAWQ,QAAX,KAAsB;AAAA,kBACpCA,QAAQ,EAD4B;AAAA,MACpDC,WADoD,aACpDA,WADoD;;AAE1D,QAAMC,EAAE,GAAGD,WAAW,CAACE,IAAZ,CAAiBD,EAA5B;AACA,SAAOlB,OAAO,CAAC,MAAD,EAAU,cAAakB,EAAG,WAA1B,EAAsC;AAACH,IAAAA;AAAD,GAAtC,CAAP,CACNN,IADM,CACDW,GAAG,IAAE,CACT;AACD,GAHM,EAINT,KAJM,CAIAU,CAAC,IAAE;AACRb,IAAAA,QAAQ,CAACP,QAAQ,CAACoB,CAAC,CAACR,OAAH,CAAT,CAAR;AACD,GANM,CAAP;AAOD,CAVM","sourcesContent":["import { apiCall } from \"../../services/api\";\nimport { addError } from \"../actions/error\";\nimport { LOAD_MESSAGES, REMOVE_MESSAGES } from \"../actionTypes\";\n\nexport const loadMessages = messages => ({\n  type: LOAD_MESSAGES,\n  messages\n});\n\nexport const fetchMessages = () => {\n  return dispatch => {\n    return apiCall(\"GET\", \"/api/messages\")\n      .then(response => {\n        dispatch(loadMessages(response));\n      })\n      .catch(err => {\n        dispatch(addError(err.message));\n      });\n  };\n};\n\n\nexport const postNewMessage = text => (dispatch, getState)=>{\n  let { currentUser } = getState();\n  const id = currentUser.user.id;\n  return apiCall(\"post\", `/api/users/${id}/messages`, {text})\n  .then(res=>{\n    // res=>{}\n  })\n  .catch(e=>{\n    dispatch(addError(e.message))\n  })\n}"]},"metadata":{},"sourceType":"module"}